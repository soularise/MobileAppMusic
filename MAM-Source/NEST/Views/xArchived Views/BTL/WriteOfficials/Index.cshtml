@model IEnumerable<NEST.Models.PolyCon>
@{
    ViewBag.Title = "WriteYourOfficials";
    Layout = "~/Views/Shared/_SiteMasterLayoutSubPage.cshtml";
}

<h1>Write Your Officials</h1>


<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
<link href="@Url.Content("~/Content/theme-btl/css/btl-custom.css")" rel="stylesheet" type="text/css" media="screen" />
<script language="javascript">
    $(function () { // this line makes sure this code runs on page load
        $('.checkall').click(function () {
            $(this).parents('fieldset:eq(0)').find(':checkbox').attr('checked', this.checked);
        });
    });
</script>
@using (Html.BeginForm())
{
    @Html.ValidationSummary(true)

   <fieldset>

    <div id="formLeft">
    


        <div class="editor-label">
            First Name
        </div>
        <div class="editor-field">
            
            <input id="FirstName" name="FirstName" type="text" style="font-size:10pt;" />
            
        </div>
        <div class="editor-label">
           Last Name
        </div>
        <div class="editor-field">
           <input id="LastName" name="LastName" type="text" style="font-size:10pt;"/>
            
        </div>

        <div class="editor-label">
            Email
        </div>
        <div class="editor-field">
            <input id="Email" type="text" name="Email" style="font-size:10pt;" />
        </div>

        <div class="editor-label">
            Zip Code
        </div>
        
        <div class="editor-field">
            <input id="ZipCode" name="ZipCode" type="text" style="font-size:10pt;" />
        </div>
        <table style="width: 90%;">
        <tr><td colspan="2"><div><input type="checkbox" class="checkall"> Check all</div></td></tr>
@{ 
    var lastType = "";
}

@foreach (var item in Model)
{
    if (item.Type != "PRESS" && item.SortOrder != null)
    {
        if (lastType != item.Type && lastType != "STATE SENATE")
        {
            if (item.Type == "STATESENATE") { item.Type = "STATE SENATE"; }
            <tr>
                <td colspan="2" style="padding-top:10px;padding-bottom:10px;color:#006599;">@item.Type</td>
            </tr>
        }
            <tr>
                <td style="padding:3px; color:#000000;"><input name="Officials" type="checkbox" value="@item.Email|@item.Name"/></td>
                <td><span style="font-weight:normal; padding:4px; font-size:10pt;">@Html.DisplayFor(modelItem => item.Name)</span></td>
            </tr>
            <tr>
                <td colspan="2" style="padding:3px;padding-bottom:5px;"><span style="font-weight:normal; padding:2px; font-size:8pt;">@Html.DisplayFor(modelItem => item.Position)</span></td>
            </tr>
        
    }
    lastType = item.Type;
}
    </table>
    </div>
    <div id="formRight">
        
        <div class="editor-label">
            Email Subject
        </div>
        
        <div class="editor-field">
            <input id="EmailSubject" name="EmailSubject" type="text" style="font-size:10pt;" />
        </div>
        

        <div class="editor-label">
            Letter
        </div>
        <div class="editor-field">
            <textarea rows="50"  id="Letter" name="Letter" style="width:350px;"></textarea>
        </div>
        <p>
            
            <input type="image" value="Join" src="@Url.Content("~/Content/theme-default/images/btn-submit.png")" />

            
        </p>









    
    </div>

    </fieldset>
}